# DSRS Staging Environment Configuration
# Copy to .env.staging and update with actual values

# Environment
ENVIRONMENT=staging
COMPOSE_PROJECT_NAME=dsrs-staging

# Domain Configuration
DOMAIN=staging.dsrs.gov.ph
API_DOMAIN=api-staging.dsrs.gov.ph
AUTH_DOMAIN=auth-staging.dsrs.gov.ph
MONITORING_DOMAIN=monitoring-staging.dsrs.gov.ph

# Database Configuration
POSTGRES_USER=dsrs_user
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD_123
POSTGRES_DB=dsrs_staging

# Kong Database
KONG_PG_USER=kong
KONG_PG_PASSWORD=CHANGE_ME_KONG_PASSWORD_456
KONG_PG_DATABASE=kong_staging

# MongoDB Configuration
MONGO_ROOT_USER=admin
MONGO_ROOT_PASSWORD=CHANGE_ME_MONGO_PASSWORD_789
MONGO_DATABASE=dsrs_staging

# Keycloak Configuration
KEYCLOAK_ADMIN_PASSWORD=CHANGE_ME_KEYCLOAK_ADMIN_PASSWORD
KEYCLOAK_DB_USER=keycloak
KEYCLOAK_DB_PASSWORD=CHANGE_ME_KEYCLOAK_DB_PASSWORD

# NextAuth Configuration
NEXTAUTH_SECRET=CHANGE_ME_NEXTAUTH_SECRET_32_CHARS_MIN
KEYCLOAK_CLIENT_SECRET_STAGING=CHANGE_ME_KEYCLOAK_CLIENT_SECRET

# Monitoring
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD

# Security
JWT_SECRET=CHANGE_ME_JWT_SECRET_256_BITS
CORS_ALLOW_ORIGINS=https://staging.dsrs.gov.ph,https://api-staging.dsrs.gov.ph

# Kafka Configuration
KAFKA_TOPIC_PREFIX=dsrs-staging

# Logging
LOG_LEVEL=INFO

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4317
OTEL_SERVICE_NAME=dsrs-staging

# SSL/TLS (if using custom certificates)
SSL_CERT_PATH=/etc/ssl/certs/dsrs-staging.crt
SSL_KEY_PATH=/etc/ssl/private/dsrs-staging.key

# Backup Configuration
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=dsrs-staging-backups
BACKUP_S3_REGION=us-east-1

# Performance Tuning
POSTGRES_MAX_CONNECTIONS=100
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB

MONGO_CACHE_SIZE_GB=1

KAFKA_HEAP_OPTS=-Xmx1G -Xms1G
KAFKA_LOG_RETENTION_HOURS=168
KAFKA_LOG_RETENTION_BYTES=1073741824

# Rate Limiting
KONG_RATE_LIMIT_MINUTE=1000
KONG_RATE_LIMIT_HOUR=10000

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# Feature Flags
ENABLE_METRICS=true
ENABLE_TRACING=true
ENABLE_DEBUG_LOGS=false
ENABLE_SWAGGER_UI=true

# External Integrations (if applicable)
SMTP_HOST=smtp.staging.dsrs.gov.ph
SMTP_PORT=587
SMTP_USER=noreply@staging.dsrs.gov.ph
SMTP_PASSWORD=CHANGE_ME_SMTP_PASSWORD

# Notification Configuration
NOTIFICATION_EMAIL_FROM=noreply@staging.dsrs.gov.ph
NOTIFICATION_EMAIL_ADMIN=admin@staging.dsrs.gov.ph

# File Upload Configuration
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,doc,docx

# Session Configuration
SESSION_TIMEOUT_MINUTES=60
SESSION_CLEANUP_INTERVAL_MINUTES=15

# API Configuration
API_REQUEST_TIMEOUT_SECONDS=30
API_MAX_RETRIES=3
API_RETRY_DELAY_SECONDS=1

# Cache Configuration
REDIS_URL=redis://redis:6379/0
CACHE_TTL_SECONDS=300

# Queue Configuration
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# Audit Configuration
AUDIT_LOG_RETENTION_DAYS=90
AUDIT_LOG_LEVEL=INFO

# Compliance
DATA_RETENTION_DAYS=2555  # 7 years
GDPR_COMPLIANCE=true
AUDIT_TRAIL_ENABLED=true

# Development/Testing (staging only)
ENABLE_TEST_ENDPOINTS=true
ENABLE_MOCK_EXTERNAL_SERVICES=false
SEED_TEST_DATA=true

# Maintenance
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System maintenance in progress. Please try again later."

# Alerting
ALERT_EMAIL_RECIPIENTS=ops@staging.dsrs.gov.ph,admin@staging.dsrs.gov.ph
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Backup Schedule (cron format)
POSTGRES_BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
MONGODB_BACKUP_SCHEDULE="0 3 * * *"   # Daily at 3 AM
CONFIG_BACKUP_SCHEDULE="0 4 * * 0"    # Weekly on Sunday at 4 AM

# Resource Limits
CONTAINER_MEMORY_LIMIT=2g
CONTAINER_CPU_LIMIT=1.0
JVM_HEAP_SIZE=1g

# Network Configuration
NETWORK_SUBNET=172.20.0.0/16
NETWORK_GATEWAY=172.20.0.1

# Load Balancer Configuration (if using external LB)
LB_HEALTH_CHECK_PATH=/health
LB_HEALTH_CHECK_INTERVAL=10s
LB_HEALTH_CHECK_TIMEOUT=5s

# CDN Configuration (if using CDN)
CDN_URL=https://cdn-staging.dsrs.gov.ph
STATIC_ASSETS_URL=https://cdn-staging.dsrs.gov.ph/static

# Analytics Configuration
ANALYTICS_RETENTION_DAYS=365
ANALYTICS_SAMPLING_RATE=1.0  # 100% in staging

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'"

# CORS Configuration
CORS_MAX_AGE=3600
CORS_ALLOW_CREDENTIALS=true

# WebSocket Configuration (if needed)
WEBSOCKET_ENABLED=false
WEBSOCKET_MAX_CONNECTIONS=1000

# Search Configuration (if using search service)
ELASTICSEARCH_URL=http://elasticsearch:9200
SEARCH_INDEX_PREFIX=dsrs-staging

# Machine Learning (if applicable)
ML_MODEL_PATH=/app/models
ML_PREDICTION_CACHE_TTL=3600

# Geolocation Services
GEOCODING_API_KEY=CHANGE_ME_GEOCODING_API_KEY
MAPS_API_KEY=CHANGE_ME_MAPS_API_KEY

# Document Processing
OCR_ENABLED=false
DOCUMENT_PROCESSING_QUEUE=document-processing

# Workflow Engine
WORKFLOW_ENGINE_ENABLED=true
WORKFLOW_TIMEOUT_MINUTES=30

# Integration Testing
INTEGRATION_TEST_DB=dsrs_staging_test
LOAD_TEST_ENABLED=false
PERFORMANCE_BASELINE_RESPONSE_TIME_MS=500

# Disaster Recovery
DR_ENABLED=false
DR_REPLICATION_INTERVAL_MINUTES=15
DR_BACKUP_LOCATION=s3://dsrs-dr-staging/

# Compliance Reporting
COMPLIANCE_REPORT_SCHEDULE="0 6 1 * *"  # Monthly on 1st at 6 AM
COMPLIANCE_REPORT_RECIPIENTS=compliance@staging.dsrs.gov.ph

# API Versioning
API_VERSION=v1
API_DEPRECATION_NOTICE_DAYS=90

# Content Security
CONTENT_SCANNING_ENABLED=true
MALWARE_SCANNING_ENABLED=true
VIRUS_SCANNER_URL=http://clamav:3310

# Data Classification
DATA_CLASSIFICATION_ENABLED=true
PII_DETECTION_ENABLED=true
SENSITIVE_DATA_MASKING=true

# Encryption
ENCRYPTION_AT_REST=true
ENCRYPTION_IN_TRANSIT=true
KEY_ROTATION_DAYS=90

# Zero Trust Security
ZERO_TRUST_ENABLED=false
DEVICE_VERIFICATION_REQUIRED=false
LOCATION_BASED_ACCESS=false

# Privacy
PRIVACY_MODE=true
COOKIE_CONSENT_REQUIRED=true
DATA_ANONYMIZATION_ENABLED=true

# Accessibility
ACCESSIBILITY_COMPLIANCE=WCAG_2_1_AA
SCREEN_READER_SUPPORT=true
HIGH_CONTRAST_MODE=true

# Internationalization
DEFAULT_LOCALE=en_PH
SUPPORTED_LOCALES=en_PH,fil_PH
TIMEZONE=Asia/Manila

# Mobile Support
MOBILE_APP_ENABLED=false
PWA_ENABLED=true
OFFLINE_MODE_ENABLED=false

# Social Features
SOCIAL_LOGIN_ENABLED=false
SOCIAL_SHARING_ENABLED=false

# Gamification
GAMIFICATION_ENABLED=false
ACHIEVEMENT_SYSTEM=false

# A/B Testing
AB_TESTING_ENABLED=false
FEATURE_FLAGS_ENABLED=true

# Customer Support
SUPPORT_CHAT_ENABLED=false
SUPPORT_EMAIL=support@staging.dsrs.gov.ph
SUPPORT_PHONE=+63-2-8888-DSRS

# Legal
TERMS_OF_SERVICE_URL=https://staging.dsrs.gov.ph/terms
PRIVACY_POLICY_URL=https://staging.dsrs.gov.ph/privacy
COOKIE_POLICY_URL=https://staging.dsrs.gov.ph/cookies

# Branding
ORGANIZATION_NAME="Department of Social Welfare and Development"
ORGANIZATION_LOGO_URL=https://staging.dsrs.gov.ph/assets/logo.png
ORGANIZATION_WEBSITE=https://dswd.gov.ph

# Contact Information
CONTACT_EMAIL=info@staging.dsrs.gov.ph
CONTACT_PHONE=+63-2-8888-DSRS
CONTACT_ADDRESS="Batasan Pambansa Complex, Constitution Hills, Quezon City"

# Emergency Contacts
EMERGENCY_CONTACT_EMAIL=emergency@staging.dsrs.gov.ph
EMERGENCY_CONTACT_PHONE=+63-2-8888-EMRG
ON_CALL_ENGINEER=oncall@staging.dsrs.gov.ph
